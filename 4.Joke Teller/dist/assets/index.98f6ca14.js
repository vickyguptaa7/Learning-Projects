const u=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};u();const i=document.querySelector(".audio"),d={speech:function(e){this._validate(e),this._request(e)},_validate:function(e){if(!e)throw"The settings are undefined";if(!e.key)throw"The API key is undefined";if(!e.src)throw"The text is undefined";if(!e.hl)throw"The language is undefined";if(e.c&&e.c.toLowerCase()!="auto"){var t=!1;switch(e.c.toLowerCase()){case"mp3":t=new Audio().canPlayType("audio/mpeg").replace("no","");break;case"wav":t=new Audio().canPlayType("audio/wav").replace("no","");break;case"aac":t=new Audio().canPlayType("audio/aac").replace("no","");break;case"ogg":t=new Audio().canPlayType("audio/ogg").replace("no","");break;case"caf":t=new Audio().canPlayType("audio/x-caf").replace("no","")}if(!t)throw"The browser does not support the audio codec "+e.c}},_request:function(e){var t=this._buildRequest(e),r=this._getXHR();r.onreadystatechange=function(){if(r.readyState==4&&r.status==200){if(r.responseText.indexOf("ERROR")==0)throw r.responseText;i.src=r.responseText,i.play()}},r.open("POST","https://api.voicerss.org/",!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.send(t)},_buildRequest:function(e){var t=e.c&&e.c.toLowerCase()!="auto"?e.c:this._detectCodec();return"key="+(e.key||"")+"&src="+(e.src||"")+"&hl="+(e.hl||"")+"&v="+(e.v||"")+"&r="+(e.r||"")+"&c="+(t||"")+"&f="+(e.f||"")+"&ssml="+(e.ssml||"")+"&b64=true"},_detectCodec:function(){var e=new Audio;return e.canPlayType("audio/mpeg").replace("no","")?"mp3":e.canPlayType("audio/wav").replace("no","")?"wav":e.canPlayType("audio/aac").replace("no","")?"aac":e.canPlayType("audio/ogg").replace("no","")?"ogg":e.canPlayType("audio/x-caf").replace("no","")?"caf":""},_getXHR:function(){try{return new XMLHttpRequest}catch{}try{return new ActiveXObject("Msxml3.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}throw"The browser does not support HTTP request"}},a=document.querySelector(".tell-btn"),p=document.querySelector(".audio");function l(){a.disabled=!a.disabled,a.classList.toggle("brightness-70"),a.classList.toggle("hover:brightness-125")}function f(e){d.speech({key:"eb6b63eb257640d8a6954741903fa88f",src:e,hl:"en-us",v:"Linda",r:0,c:"mp3",f:"44khz_16bit_stereo",ssml:!1}),console.log("joke : ",e)}async function y(){const e="https://v2.jokeapi.dev/joke/Programming?blacklistFlags=nsfw,religious,political,racist,sexist,explicit";let t="";try{const c=await(await fetch(e)).json();c.type==="twopart"?t=`${c.setup} ... ${c.delivery}`:t=c.joke,f(t),l()}catch(r){console.log("error : ",r)}}a.addEventListener("click",y);p.addEventListener("ended",l);
